ß
PD:\Solutions\Services\HCM360\ClaimService\Controllers\ClaimsServiceController.cs
	namespace 	
ClaimService
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str ,
), -
]- .
[ 
ApiController 
] 
public 

class #
ClaimsServiceController (
:) *
ControllerBase+ 9
{ 
private 
readonly 
ILogger  
<  !#
ClaimsServiceController! 8
>8 9
_logger: A
;A B
private 
readonly 
IServiceBus $
_serviceBus% 0
;0 1
public #
ClaimsServiceController &
(& '
ILogger' .
<. /#
ClaimsServiceController/ F
>F G
loggerH N
,N O
IServiceBusP [

serviceBus\ f
)f g
{ 	
_logger 
= 
logger 
; 
_serviceBus 
= 

serviceBus $
;$ %
} 	
[ 	
HttpPost	 
] 
public 
IActionResult 
InsertClaim (
(( )
[) *
FromBody* 2
]2 3
ClaimRequest3 ?
request@ G
)G H
{ 	
_serviceBus 
. 
Publish 
(  
request  '
)' (
;( )
return 
Ok 
( 
) 
; 
} 	
}   
}!! ˜
@D:\Solutions\Services\HCM360\ClaimService\Models\ClaimRequest.cs
	namespace 	
ClaimService
 
. 
Models 
{ 
public 

class 
ClaimRequest 
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 9
)9 :
]: ;
public		 
string		 
	ClaimType		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
[ 	
Required	 
( 
ErrorMessage 
=  
$str! ;
); <
]< =
public 
decimal 
ClaimAmount "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 9
)9 :
]: ;
public 
DateTime 
	ClaimDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 6
)6 7
]7 8
public 
string 
Remarks 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 7
)7 8
]8 9
public 
int 
MemberID 
{ 
get !
;! "
set# &
;& '
}( )
} 
public 

enum 
	ClaimType 
{ 
Medical 
= 
$num 
, 
Dental 
= 
$num 
, 
Vision 
= 
$num 
} 
} é

4D:\Solutions\Services\HCM360\ClaimService\Program.cs
	namespace

 	
ClaimService


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ∑%
4D:\Solutions\Services\HCM360\ClaimService\Startup.cs
	namespace 	
ClaimService
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Log 
. 
Logger 
= 
new 
LoggerConfiguration 0
(0 1
)1 2
.2 3
ReadFrom3 ;
.; <
Configuration< I
(I J
configurationJ W
)W X
.X Y
CreateLoggerY e
(e f
)f g
;g h
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services   
.   
AddControllers   #
(  # $
)  $ %
;  % &
services## 
.## 
AddSwaggerGen## "
(##" #
)### $
;##$ %
services&& 
.&& 
AddApiVersioning&& %
(&&% &
config&&& ,
=>&&- /
{'' 
config(( 
.(( 
DefaultApiVersion(( (
=(() *
new((+ .

ApiVersion((/ 9
(((9 :
$num((: ;
,((; <
$num((= >
)((> ?
;((? @
config)) 
.)) /
#AssumeDefaultVersionWhenUnspecified)) :
=)); <
true))= A
;))A B
config** 
.** 
ReportApiVersions** (
=**) *
true**+ /
;**/ 0
}++ 
)++ 
;++ 
services-- 
.-- 
AddSingleton-- !
<--! "
ITopicClient--" .
>--. /
(--/ 0
IServiceProvider--0 @
=>--A C
new--D G
TopicClient--H S
(--S T
Configuration--T a
.--a b
GetValue--b j
<--j k
string--k q
>--q r
(--r s
$str	--s ê
)
--ê ë
,
--ë í
Configuration
--ì †
.
--† °
GetValue
--° ©
<
--© ™
string
--™ ∞
>
--∞ ±
(
--± ≤
$str
--≤ »
)
--» …
)
--…  
)
--  À
;
--À Ã
services.. 
... 
AddSingleton.. !
<..! "
IServiceBus.." -
,..- .

ServiceBus../ 9
...9 :
Models..: @
...@ A

ServiceBus..A K
>..K L
(..L M
)..M N
;..N O
}// 	
public22 
void22 
	Configure22 
(22 
IApplicationBuilder22 1
app222 5
,225 6
IWebHostEnvironment227 J
env22K N
,22N O
ILoggerFactory22P ^
loggerFactory22_ l
)22l m
{33 	
if44 
(44 
env44 
.44 
IsDevelopment44 !
(44! "
)44" #
)44# $
{55 
app66 
.66 %
UseDeveloperExceptionPage66 -
(66- .
)66. /
;66/ 0
}77 
app99 
.99 
UseHttpsRedirection99 #
(99# $
)99$ %
;99% &
app;; 
.;; 

UseRouting;; 
(;; 
);; 
;;; 
app== 
.== 
UseAuthorization==  
(==  !
)==! "
;==" #
app?? 
.?? 
UseEndpoints?? 
(?? 
	endpoints?? &
=>??' )
{@@ 
	endpointsAA 
.AA 
MapControllersAA (
(AA( )
)AA) *
;AA* +
}BB 
)BB 
;BB 
appDD 
.DD 

UseSwaggerDD 
(DD 
)DD 
;DD 
appFF 
.FF 
UseSwaggerUIFF 
(FF 
cFF 
=>FF !
{GG 
cHH 
.HH 
SwaggerEndpointHH !
(HH! "
$strHH" <
,HH< =
$strHH> J
)HHJ K
;HHK L
cII 
.II 
RoutePrefixII 
=II 
stringII  &
.II& '
EmptyII' ,
;II, -
}JJ 
)JJ 
;JJ 
loggerFactoryLL 
.LL 

AddSerilogLL $
(LL$ %
)LL% &
;LL& '
}MM 	
}NN 
}OO ¬
<D:\Solutions\Services\HCM360\ClaimService\WeatherForecast.cs
	namespace 	
ClaimService
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
TemperatureC		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 
int 
TemperatureF 
=>  "
$num# %
+& '
(( )
int) ,
), -
(- .
TemperatureC. :
/; <
$num= C
)C D
;D E
public 
string 
Summary 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 