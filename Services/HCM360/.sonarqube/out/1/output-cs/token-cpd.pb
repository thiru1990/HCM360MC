¬
=D:\Solutions\Services\HCM360\ServiceBus\Models\IServiceBus.cs
	namespace 	

ServiceBus
 
. 
Models 
{ 
public 

	interface 
IServiceBus  
{		 
Task

 
Publish

 
<

 
T

 
>

 
(

 
T

 
obj

 
)

 
;

 
} 
} è
<D:\Solutions\Services\HCM360\ServiceBus\Models\ServiceBus.cs
	namespace 	

ServiceBus
 
. 
Models 
{		 
public

 

class

 

ServiceBus

 
:

 
IServiceBus

 )
{ 
private 
readonly 
ITopicClient %
_topicClient& 2
;2 3
public 

ServiceBus 
( 
ITopicClient &
topicClient' 2
)2 3
{ 	
_topicClient 
= 
topicClient &
;& '
} 	
public 
Task 
Publish 
< 
T 
> 
( 
T  
obj! $
)$ %
{ 	
var 
message 
= 
new 
Message %
(% &
body& *
:* +
Encoding, 4
.4 5
UTF85 9
.9 :
GetBytes: B
(B C
JsonConvertC N
.N O
SerializeObjectO ^
(^ _
obj_ b
)b c
)c d
)d e
;e f
message 
. 
UserProperties "
[" #
$str# 0
]0 1
=2 3
typeof4 :
(: ;
T; <
)< =
.= >
Name> B
;B C
return 
_topicClient 
.  
	SendAsync  )
() *
message* 1
)1 2
;2 3
} 	
} 
} 