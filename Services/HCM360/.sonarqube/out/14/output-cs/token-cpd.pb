ã-
VD:\Solutions\Services\HCM360\ClaimDetailsService\Controllers\ClaimDetailsController.cs
	namespace 	
ClaimDetailsService
 
. 
Controllers )
{ 
[ 
Route 

(
 
$str ,
), -
]- .
[ 
ApiController 
] 
public 

class "
ClaimDetailsController '
:( )
ControllerBase* 8
{ 
private 
readonly  
IClaimDetailsService -
_claimDetailsSvc. >
;> ?
private 
readonly 
ILogger  
<  !"
ClaimDetailsController! 7
>7 8
_logger9 @
;@ A
public "
ClaimDetailsController %
(% & 
IClaimDetailsService& :
claimDetailsSvc; J
,J K
ILoggerL S
<S T"
ClaimDetailsControllerT j
>j k
loggerl r
)r s
{ 	
_claimDetailsSvc 
= 
claimDetailsSvc .
;. /
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
ActionResult &
>& '
GetClaimDetails( 7
(7 8
int8 ;
id< >
)> ?
{   	
_logger!! 
.!! 
LogInformation!! "
(!!" #
$str!!# 7
)!!7 8
;!!8 9
var"" 
response"" 
="" 
await""  
GetRelativeClaims""! 2
(""2 3
id""3 5
)""5 6
;""6 7
if## 
(## 
response## 
==## 
null## 
)##  
{$$ 
_logger%% 
.%% 
LogInformation%% &
(%%& '
$str%%' <
)%%< =
;%%= >
return&& 
NotFound&& 
(&&  
)&&  !
;&&! "
}'' 
else(( 
{)) 
_logger** 
.** 
LogInformation** &
(**& '
$str**' <
)**< =
;**= >
return++ 
Ok++ 
(++ 
response++ "
)++" #
;++# $
},, 
}-- 	
private// 
Task// 
<// 
List// 
<// 
ClaimDetails// &
>//& '
>//' (
GetRelativeClaims//) :
(//: ;
int//; >
memberId//? G
)//G H
{00 	
_logger11 
.11 
LogInformation11 "
(11" #
$str11# 9
)119 :
;11: ;
var22 
claims22 
=22 
_claimDetailsSvc22 )
.22) *
GetClaimsByMemberId22* =
(22= >
memberId22> F
)22F G
;22G H
List33 
<33 
ClaimDetails33 
>33 
result33 %
=33& '
null33( ,
;33, -
if44 
(44 
claims44 
!=44 
null44 
&&44  
claims44! '
.44' (
Result44( .
!=44/ 1
null442 6
&&447 9
claims44: @
.44@ A
Result44A G
.44G H
Count44H M
>44N O
$num44P Q
)44Q R
{55 
result66 
=66 
new66 
List66 !
<66! "
ClaimDetails66" .
>66. /
(66/ 0
)660 1
;661 2
foreach77 
(77 
var77 
clm77 
in77  "
claims77# )
.77) *
Result77* 0
)770 1
{88 
result99 
.99 
Add99 
(99 
new99 "
ClaimDetails99# /
{:: 
MemberID;;  
=;;! "
clm;;# &
.;;& '
MemberId;;' /
.;;/ 0
Value;;0 5
,;;5 6

MemberName<< "
=<<# $
clm<<% (
.<<( )
Member<<) /
.<</ 0
MemberFirstName<<0 ?
+<<@ A
$str<<B E
+<<F G
clm<<H K
.<<K L
Member<<L R
.<<R S
MemberLastName<<S a
,<<a b
ClaimID== 
===  !
clm==" %
.==% &
ClaimId==& -
,==- .
ClaimAmount>> #
=>>$ %
clm>>& )
.>>) *
ClaimAmount>>* 5
.>>5 6
Value>>6 ;
,>>; <
	ClaimDate?? !
=??" #
clm??$ '
.??' (
	ClaimDate??( 1
.??1 2
Value??2 7
,??7 8
	ClaimType@@ !
=@@" #
clm@@$ '
.@@' (
	ClaimType@@( 1
.@@1 2
	ClaimType@@2 ;
,@@; <
RemarksAA 
=AA  !
clmAA" %
.AA% &
RemarksAA& -
}BB 
)BB 
;BB 
}CC 
_loggerDD 
.DD 
LogDebugDD  
(DD  !
$strDD! /
,DD/ 0
JsonConvertDD1 <
.DD< =
SerializeObjectDD= L
(DDL M
resultDDM S
)DDS T
)DDT U
;DDU V
}EE 
_loggerFF 
.FF 
LogInformationFF "
(FF" #
$strFF# :
)FF: ;
;FF; <
returnGG 
TaskGG 
.GG 
RunGG 
(GG 
(GG 
)GG 
=>GG !
resultGG" (
)GG( )
;GG) *
}HH 	
}II 
}JJ ±
SD:\Solutions\Services\HCM360\ClaimDetailsService\DataService\ClaimDetailsService.cs
	namespace		 	
ClaimDetailsService		
 
.		 
DataService		 )
{

 
public 

class 
ClaimDetailsService $
:% & 
IClaimDetailsService' ;
{ 
private 
readonly 
IRepository $
<$ %
Claims% +
>+ ,
_claimsRepository- >
;> ?
public 
ClaimDetailsService "
(" #
IRepository# .
<. /
Claims/ 5
>5 6
claimsRepository7 G
)G H
{ 	
_claimsRepository 
= 
claimsRepository  0
;0 1
} 	
public 
async 
Task 
< 
List 
< 
Claims %
>% &
>& '
GetClaimsByMemberId( ;
(; <
int< ?
id@ B
)B C
{ 	
return 
await 
_claimsRepository *
.* +
GetAll+ 1
(1 2
)2 3
.3 4
Include4 ;
(; <
claims< B
=>C E
claimsF L
.L M
	ClaimTypeM V
)V W
.W X
IncludeX _
(_ `
mema d
=>e g
memh k
.k l
Memberl r
)r s
.s t
Wheret y
(y z
xz {
=>| ~
x	 Ä
.
Ä Å
MemberId
Å â
==
ä å
id
ç è
)
è ê
.
ê ë
ToListAsync
ë ú
(
ú ù
)
ù û
;
û ü
} 	
} 
} ú
TD:\Solutions\Services\HCM360\ClaimDetailsService\DataService\IClaimDetailsService.cs
	namespace 	
ClaimDetailsService
 
. 
DataService )
{ 
public		 

	interface		  
IClaimDetailsService		 )
{

 
Task 
< 
List 
< 
Claims 
> 
> 
GetClaimsByMemberId .
(. /
int/ 2
id3 5
)5 6
;6 7
} 
} ·

GD:\Solutions\Services\HCM360\ClaimDetailsService\Models\ClaimDetails.cs
	namespace 	
ClaimDetailsService
 
. 
Models $
{ 
public 

class 
ClaimDetails 
{		 
public

 
int

 
MemberID

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 

MemberName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
ClaimID 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
	ClaimType 
{  !
get" %
;% &
set' *
;* +
}, -
public 
decimal 
ClaimAmount "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateTime 
	ClaimDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Remarks 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ú

;D:\Solutions\Services\HCM360\ClaimDetailsService\Program.cs
	namespace

 	
ClaimDetailsService


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} Ë%
;D:\Solutions\Services\HCM360\ClaimDetailsService\Startup.cs
	namespace 	
ClaimDetailsService
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Log 
. 
Logger 
= 
new 
LoggerConfiguration 0
(0 1
)1 2
.2 3
ReadFrom3 ;
.; <
Configuration< I
(I J
configurationJ W
)W X
.X Y
CreateLoggerY e
(e f
)f g
;g h
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public   
void   
ConfigureServices   %
(  % &
IServiceCollection  & 8
services  9 A
)  A B
{!! 	
services"" 
."" 
AddControllers"" #
(""# $
)""$ %
;""% &
services%% 
.%% 
AddSwaggerGen%% "
(%%" #
)%%# $
;%%$ %
services(( 
.(( 
AddApiVersioning(( %
(((% &
config((& ,
=>((- /
{)) 
config** 
.** 
DefaultApiVersion** (
=**) *
new**+ .

ApiVersion**/ 9
(**9 :
$num**: ;
,**; <
$num**= >
)**> ?
;**? @
config++ 
.++ /
#AssumeDefaultVersionWhenUnspecified++ :
=++; <
true++= A
;++A B
config,, 
.,, 
ReportApiVersions,, (
=,,) *
true,,+ /
;,,/ 0
}-- 
)-- 
;-- 
services// 
.// 
AddDbContext// !
<//! "
HCM360Context//" /
>/// 0
(//0 1
options//1 8
=>//9 ;
options//< C
.//C D
UseSqlServer//D P
(//P Q
Configuration//Q ^
[//^ _
$str//_ z
]//z {
)//{ |
)//| }
;//} ~
services11 
.11 
AddTransient11 !
(11! "
typeof11" (
(11( )
IRepository11) 4
<114 5
>115 6
)116 7
,117 8
typeof119 ?
(11? @

Repository11@ J
<11J K
>11K L
)11L M
)11M N
;11N O
services22 
.22 
AddTransient22 !
<22! " 
IClaimDetailsService22" 6
,226 7
DataService228 C
.22C D
ClaimDetailsService22D W
>22W X
(22X Y
)22Y Z
;22Z [
}33 	
public66 
void66 
	Configure66 
(66 
IApplicationBuilder66 1
app662 5
,665 6
IWebHostEnvironment667 J
env66K N
,66N O
ILoggerFactory66P ^
loggerFactory66_ l
)66l m
{77 	
if88 
(88 
env88 
.88 
IsDevelopment88 !
(88! "
)88" #
)88# $
{99 
app:: 
.:: %
UseDeveloperExceptionPage:: -
(::- .
)::. /
;::/ 0
};; 
app== 
.== 
UseHttpsRedirection== #
(==# $
)==$ %
;==% &
app?? 
.?? 

UseRouting?? 
(?? 
)?? 
;?? 
appAA 
.AA 
UseAuthorizationAA  
(AA  !
)AA! "
;AA" #
appCC 
.CC 
UseEndpointsCC 
(CC 
	endpointsCC &
=>CC' )
{DD 
	endpointsEE 
.EE 
MapControllersEE (
(EE( )
)EE) *
;EE* +
}FF 
)FF 
;FF 
appHH 
.HH 

UseSwaggerHH 
(HH 
)HH 
;HH 
appJJ 
.JJ 
UseSwaggerUIJJ 
(JJ 
cJJ 
=>JJ !
{KK 
cLL 
.LL 
SwaggerEndpointLL !
(LL! "
$strLL" <
,LL< =
$strLL> J
)LLJ K
;LLK L
cMM 
.MM 
RoutePrefixMM 
=MM 
stringMM  &
.MM& '
EmptyMM' ,
;MM, -
}NN 
)NN 
;NN 
loggerFactoryPP 
.PP 

AddSerilogPP $
(PP$ %
)PP% &
;PP& '
}QQ 	
}RR 
}SS 